{"openapi":"3.0.0","paths":{"/users":{"get":{"operationId":"UsersController_getUsers","parameters":[{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}}],"responses":{"200":{"description":""}},"security":[{"JWT-auth":[]}],"summary":"Get paginated list of users","tags":["Users"]}},"/users/me":{"get":{"operationId":"UsersController_getCurrentUser","parameters":[],"responses":{"200":{"description":""}},"security":[{"JWT-auth":[]}],"summary":"Get current user info from JWT","tags":["Users"]}},"/auth/register":{"post":{"description":"Create a new user account with email and password","operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User successfully registered","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":201},"data":{"$ref":"#/components/schemas/AuthResponseDto"}}}}}},"400":{"description":"Validation error - invalid email format or password too short","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}},"409":{"description":"Email already registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"summary":"Register a new user","tags":["Authentication"]}},"/auth/login":{"post":{"description":"Authenticate user and return JWT token","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User successfully authenticated","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"$ref":"#/components/schemas/AuthResponseDto"}}}}}},"400":{"description":"Validation error - invalid email format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"summary":"Login with email and password","tags":["Authentication"]}},"/auth/google/authenticate":{"post":{"description":"Verify Google ID token and return JWT token","operationId":"AuthController_googleAuthenticate","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleTokenDto"}}}},"responses":{"200":{"description":"Google token verified and JWT issued","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"$ref":"#/components/schemas/AuthResponseDto"}}}}}},"401":{"description":"Invalid or expired Google ID token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"summary":"Authenticate with Google","tags":["Authentication"]}},"/auth/google":{"get":{"description":"Redirect to Google OAuth consent page (traditional OAuth flow)","operationId":"AuthController_googleAuth","parameters":[],"responses":{"200":{"description":""}},"summary":"Initiate Google OAuth flow","tags":["Authentication"]}},"/auth/google/callback":{"get":{"description":"Handle Google OAuth callback and redirect with JWT token","operationId":"AuthController_googleAuthCallback","parameters":[],"responses":{"200":{"description":""}},"summary":"Google OAuth callback","tags":["Authentication"]}},"/auth/logout":{"post":{"description":"Logout the authenticated user and invalidate the session","operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"User successfully logged out","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"Logged out successfully"}}}}}}}},"401":{"description":"Invalid or missing JWT token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Logout user","tags":["Authentication"]}},"/auth/profile":{"get":{"description":"Return the authenticated user profile from JWT token","operationId":"AuthController_getProfile","parameters":[],"responses":{"200":{"description":"User profile retrieved successfully","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"$ref":"#/components/schemas/UserResponseDto"}}}}}},"401":{"description":"Invalid or missing JWT token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Get current user profile","tags":["Authentication"]}},"/auth/admin/users":{"get":{"description":"This endpoint is only accessible by users with admin role","operationId":"AuthController_adminOnly","parameters":[],"responses":{"200":{"description":"Admin access granted","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"Admin access granted"}}}}}}}},"401":{"description":"Invalid or missing JWT token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}},"403":{"description":"User does not have admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Admin only endpoint example","tags":["Authentication"]}},"/auth/organizer/dashboard":{"get":{"description":"Accessible by organizers and admins","operationId":"AuthController_organizerDashboard","parameters":[],"responses":{"200":{"description":"Organizer access granted","content":{"application/json":{"schema":{"properties":{"status":{"type":"string","example":"success"},"code":{"type":"number","example":200},"data":{"type":"object","properties":{"message":{"type":"string","example":"Organizer access granted"}}}}}}}},"401":{"description":"Invalid or missing JWT token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}},"403":{"description":"User does not have organizer or admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Organizer dashboard endpoint","tags":["Authentication"]}}},"info":{"title":"Vector auto API","description":"API documentation for Vector auto authentication and services","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"JWT-auth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","description":"Enter JWT token"}},"schemas":{"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"User unique identifier","example":"550e8400-e29b-41d4-a716-446655440000"},"email":{"type":"string","description":"User email address","example":"user@example.com"},"displayName":{"type":"string","description":"User display name","example":"John Doe"},"role":{"type":"string","description":"User role","enum":["admin","user","organizer"],"example":"user"},"tags":{"description":"User tags","example":["sports","fitness"],"type":"array","items":{"type":"string"}},"avatarUrl":{"type":"string","description":"User avatar URL","example":"https://example.com/avatar.jpg"}},"required":["id","email","role","tags"]},"AuthResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserResponseDto"}]},"token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["user","token"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address (primary identifier)","example":"user@example.com","format":"email"},"password":{"type":"string","description":"Password for the account (min 6 characters)","example":"securePassword123","minLength":6},"displayName":{"type":"string","description":"Display name for the user","example":"John Doe"},"tags":{"description":"Tags for user categorization","example":["sports","fitness"],"maxItems":10,"type":"array","items":{"type":"string"}}},"required":["email","password"]},"ErrorResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP status code","example":400},"message":{"type":"string","description":"Error message","example":"Invalid credentials"},"errors":{"description":"Detailed error information","example":["email must be an email"],"type":"array","items":{"type":"string"}}},"required":["statusCode","message"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com","format":"email"},"password":{"type":"string","description":"User password","example":"securePassword123"}},"required":["email","password"]},"GoogleTokenDto":{"type":"object","properties":{"idToken":{"type":"string","description":"Google ID token from OAuth (JWT token from Google)","example":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjY4YTE1MmU0ZmY0YTNiOGQ2M2QzOGE..."}},"required":["idToken"]}}}}